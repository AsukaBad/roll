name: Generate HTML Files

on:
  push:
    branches:
      - main

jobs:
  generate-html:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: Generate HTML files
      run: |
        mkdir -p html_files
        for i in {1..100}
        do
          echo "<!DOCTYPE html>
<html lang=\"en\">
<head>
  <meta charset=\"UTF-8\">
  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">
  <meta property=\"og:title\" content=\"値は${i}です。\">
  <meta property=\"og:description\" content=\"Generated by karma git.io\">
  <meta property=\"og:url\" content=\"https://www.asukabad.github.io/roll\">
  <meta property=\"og:image\" content=\"https://www.asukabad.github.io/images/${i}.gif\">
  <title>Document ${i}</title>
</head>
<body>
  <h1>値は${i}です。</h1>
</body>
</html>" > html_files/file_${i}.html
        done

    - name: Commit and push changes
      run: |
        git config --global user.name 'github-actions'
        git config --global user.email 'github-actions@github.com'
        git add html_files/
        git commit -m 'Generate HTML files'
        git push

